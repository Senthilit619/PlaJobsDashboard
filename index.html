<!DOCTYPE html>
<html lang="en" xmlns="http://www.w3.org/1999/xhtml" ng-app="myApp">
<head>
    <meta charset="utf-8" />
    <title> Jobs Dashboard</title>
    <link href="https://fonts.googleapis.com/css?family=Dosis|Josefin+Sans" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css?family=Acme|Alegreya+Sans:300" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css?family=Exo+2:200,400" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css?family=Barlow:300" rel="stylesheet">
    <link href="bootstrap.min.css" rel="stylesheet"/>
    <link href="style.css" rel="stylesheet"/>
    <script src="jquery.min.js"></script>
    <script src="angular.min.js"></script>
    <script src="angular-route.js"></script>
    <script src="bootstrap.min.js"></script>
    <link rel="stylesheet" href="css/font-awesome.min.css">
    <script src="index.js"></script>
    <script src="app.js"></script>
    <script src="https://code.highcharts.com/stock/highstock.js"></script>
    <script src="https://code.highcharts.com/stock/modules/exporting.js"></script>
</head>
<body ng-controller="myCtrl">    
    <div class="container">
        <div class="row">
            <div class="well">
                <div class="btn-group" id="useraccount">
                    <a class="btn btn-default" href="#" id="email"><i class="fa fa-user fa-fw"></i> {{loggedEmail}}</a>
                    <a class="btn btn-default dropdown-toggle" data-toggle="dropdown" href="#">
                        <span class="fa fa-caret-down" title="Toggle dropdown menu"></span>
                    </a>
                    <ul class="dropdown-menu">
                        <li><a href="#"><i class="fa fa-pencil fa-fw"></i> Account</a></li>
                        <li><a href="#"><i class="fa fa-trash-o fa-fw"></i> Help</a></li>
                        <li class="divider"></li>
                        <li><a href="#"><i class="fa fa-unlock"></i> Sign out</a></li>
                    </ul>
                </div>      
            </div>
            <div class="well" id="header">
                <div class="media">
                    <div class="media-left">
                        <img class="media-object" src="delllogo.jpg" alt="logo" width="60" height="50">
                    </div>
                    <div class="media-body">
                        <span class="media-heading">Platinum Jobs DashBoard</span>                                          
                    </div>
                </div>
            </div>
            <div id="subheader" class="well row"> 
                <div class="" id="environment">
                    <label for="sel1">Environment:</label>
                    <select ng-model="environment" ng-change="changeEnvironment()">
                        <option value="Dev">Dev</option>
                        <option value="Production">Production</option>
                        <option value="QAReport">QA-Report</option>
                        <option value="QAExternal">QA-External</option>
                    </select>
                </div>
                <div id="pages" ng-show="showpages">
                    Pages:
                    <ul class="pagination pagination-sm">
                        <li ng-click="pagination($index+1,$event)" ng-repeat="x in getNumber(pageLength) track by $index"><a href="#">{{$index+1}}</a></li>
                    </ul>
                </div>
                <div class="" id="displaytext">
                    <span id="loading" ng-if="loading">
                        <span>Loading data</span>
                        <i class="fa fa-spinner fa-spin fa-1x fa-fw"></i>
                    </span>
                </div>                                
            </div>
            <div id="main" class="row">
                <div id="sidebar" class="col-md-2 col-lg-2 col-sm-2 col-xs-2">
                    <ul class="nav nav-pills nav-stacked" id="database">
                        <li ng-click="showTables($event)">
                            Analytical Job 3
                            <ul class="tables hide">
                                <li ng-click="showAJ3data(AJ3tables[0],$index,$event)">{{AJ3tables[0]}}</li>
                                <li ng-repeat="x in AJ3tables" ng-if="$index > 0">
                                    {{x}}
                                    <ul class="subtables hide">
                                        <li ng-repeat="x in AJ3subtables" ng-click="showAJ3data($parent.x,x,$event)">{{x}}</li>
                                    </ul>
                                </li>
                            </ul>
                        </li>
                        <li ng-click="showTables($event)">
                            Central
                            <ul class="tables hide" >
                                <li ng-repeat="x in centraldata[0].recordsets" ng-click="showData('central',$index,$event)">{{centraltables[$index]}}</li>
                            </ul>                        
                        </li>
                        <li ng-repeat="x in regionNames" ng-click="showTables($event)">
                            {{x}}
                            <ul class="tables hide">
                                <li ng-repeat="x in regiondata[0].recordsets" ng-click="showData($parent.x,$index,$event)">{{regiontables[$index]}}</li>
                            </ul>
                        </li>
                    </ul>
                </div>
                <div id="content" class="col-lg-10 col-md-10 col-sm-10 col-xs-10">
                    <div id="frontpage" ng-show="showimages">
                        <img src="introimage.jpg" id="introimage"/>
                    </div>        
                    <div id="tabledata" ng-show="showtables">
                        <table class="table table-striped table-bordered table-hover table-condensed table-responsive" align="center" cellpadding="5">
                            <thead>
                                <tr class="info">
                                    <th ng-repeat="(key,data) in selectedData[0]" style="text-wrap:normal;">{{key}}</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr ng-repeat="row in selectedData">
                                    <td ng-repeat="(key,data) in row">{{data?data:"-"}}</td>
                                </tr>
                            </tbody>
                        </table>
                    </div>                    
                </div>                
            </div>            
        </div>
    </div>  
</body>
</html>